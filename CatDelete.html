<!DOCTYPE html>

<html>
<head>
    <title>Category Delete Demo</title>
    <script>
    function DeleteCategory()
       {
            var xmlhttp = new XMLHttpRequest();
            var url = "http://bus-pluto.ad.uab.edu/jsonwebservice/service1.svc/deleteCategory/";
            url += document.getElementById("deleteid").value;
            var objdisplay = document.getElementById("deleteresult");
                        
            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    var output = JSON.parse(xmlhttp.responseText);
                    var outcome = output.DeleteCategoryResult.WasSuccessful
                    var error = output.DeleteCategoryResult.Exception;
                    OperationResult(outcome, error, objdisplay);
                }
            }
            xmlhttp.open("GET", url, true);
            xmlhttp.send();
        }
        
function OperationResult(success, exception, displayObject)
{
    switch (success)
    {
        case 1:
            displayObject.innerHTML = "The operation was successful!";
            break;
        case 0:
            displayObject.innerHTML = "The operation was not successful:<br>" + exception;
            break;
        case -2:
            displayObject.innerHTML = "The operation was not successful because the data string supplied could not be deserialized into the service object.";
            break;
        case -3:
            displayObject.innerHTML = "The operation was not successful because a record with the supplied Order ID could not be found";
            break;
        default:
            alert("The operation code returned is not identifiable.");
    }
}
   
    </script>
</head>

<body>
        <h3>Delete a Customer</h3>
        <br>
        <table>
            <tr>
                <td class="caption">
                    Please enter the Category ID for the Category you wish to delete:
                </td>
                <td>
                    <input type="text" id="deleteid">
                </td>
            </tr>
            <tr>
                <td class="warning">
                    Deletion is a final action and will permanently delete a customer's data!
                </td>
                <td>
                    <button onclick="DeleteCategory()">Delete Category</button>
                </td>
            </tr>
        </table>
        <label id="deleteresult">The result will display here.</label>



</body>
</html>
